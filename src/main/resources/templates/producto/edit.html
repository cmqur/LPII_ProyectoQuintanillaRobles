<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/head :: head('Editar Producto')"></head>
<body>
<div th:replace="fragments/navbar :: navbar"></div>

<div class="container py-4">
  <div class="d-flex align-items-center justify-content-between mb-3">
    <div>
      <h3 class="page-title mb-1">Editar producto</h3>
      <div class="text-secondary">Actualiza precios, stock y categoría</div>
    </div>
    <a class="btn btn-outline-dark" th:href="@{/producto}"><i class="bi bi-arrow-left me-1"></i>Volver</a>
  </div>

  <div class="card shadow-soft">
    <div class="card-body">
      <form th:action="@{/producto/{id}(id=${producto.idProd})}" th:object="${producto}" method="post" class="row g-3">
        <div style="display:none">
          <input th:field="*{idProd}">
        </div>

        <div class="col-12 col-md-4">
          <label class="form-label">Código</label>
          <input class="form-control" th:field="*{codigo}" required>
        </div>

        <div class="col-12 col-md-8">
          <label class="form-label">Descripción</label>
          <input class="form-control" th:field="*{descripcion}" required>
        </div>

        <div class="col-12 col-md-6">
          <label class="form-label">Categoría</label>
          <select class="form-select" th:field="*{categoria}">
            <option th:each="c : ${categoriaList}" th:value="${c.id}" th:text="${c.descripcion}"></option>
          </select>
        </div>

        <div class="col-12 col-md-3">
          <label class="form-label">Precio compra</label>
          <input class="form-control" type="number" step="0.01" min="0" th:field="*{precioCompra}">
        </div>

        <div class="col-12 col-md-3">
          <label class="form-label">Precio referencial</label>
          <input class="form-control" type="number" step="0.01" min="0" th:field="*{precioVenta}">
        </div>

        <div class="col-12 col-md-3">
          <label class="form-label">Stock</label>
          <input class="form-control" type="number" min="0" th:field="*{stock}">
        </div>

        <div class="col-12 col-md-3">
          <label class="form-label">Stock mínimo</label>
          <input class="form-control" type="number" min="0" th:field="*{stockMinimo}">
        </div>

        <div class="col-12">
          <div class="d-flex gap-2">
            <button class="btn btn-primary" type="submit"><i class="bi bi-check2-circle me-1"></i>Guardar cambios</button>
            <a class="btn btn-outline-secondary" th:href="@{/producto}">Cancelar</a>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<th:block th:replace="fragments/scripts :: scripts"></th:block>
</body>
</html>
